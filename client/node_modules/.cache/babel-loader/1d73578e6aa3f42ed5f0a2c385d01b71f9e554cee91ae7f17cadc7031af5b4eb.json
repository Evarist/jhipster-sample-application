{"ast":null,"code":"import _regeneratorRuntime from\"/Users/evaristlobo/Documents/GitHub/jhipster-sample-application/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/evaristlobo/Documents/GitHub/jhipster-sample-application/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{ItemService}from\"../services/itemService\";import config from\"../config\";import{ActionTypes}from\"./common\";import{createPayloadAction}from\"./actionCreators\";export var list=function list(listId,options){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var itemService,items;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:itemService=new ItemService(config.api.baseUrl,\"/lists/\".concat(listId,\"/items\"));_context.next=3;return itemService.getList(options);case 3:items=_context.sent;dispatch(listItemsAction(items));return _context.abrupt(\"return\",items);case 6:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var select=function select(item){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch(selectItemAction(item));return _context2.abrupt(\"return\",Promise.resolve(item));case 2:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var load=function load(listId,id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var itemService,item;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:itemService=new ItemService(config.api.baseUrl,\"/lists/\".concat(listId,\"/items\"));_context3.next=3;return itemService.get(id);case 3:item=_context3.sent;dispatch(loadItemAction(item));return _context3.abrupt(\"return\",item);case 6:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var save=function save(listId,item){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var itemService,newItem;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:itemService=new ItemService(config.api.baseUrl,\"/lists/\".concat(listId,\"/items\"));_context4.next=3;return itemService.save(item);case 3:newItem=_context4.sent;dispatch(saveItemAction(newItem));return _context4.abrupt(\"return\",newItem);case 6:case\"end\":return _context4.stop();}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var remove=function remove(listId,item){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){var itemService;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:itemService=new ItemService(config.api.baseUrl,\"/lists/\".concat(listId,\"/items\"));if(!item.id){_context5.next=5;break;}_context5.next=4;return itemService.delete(item.id);case 4:dispatch(deleteItemAction(item.id));case 5:case\"end\":return _context5.stop();}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};var listItemsAction=createPayloadAction(ActionTypes.LOAD_TODO_ITEMS);var selectItemAction=createPayloadAction(ActionTypes.SELECT_TODO_ITEM);var loadItemAction=createPayloadAction(ActionTypes.LOAD_TODO_ITEM);var saveItemAction=createPayloadAction(ActionTypes.SAVE_TODO_ITEM);var deleteItemAction=createPayloadAction(ActionTypes.DELETE_TODO_ITEM);","map":{"version":3,"names":["ItemService","config","ActionTypes","createPayloadAction","list","listId","options","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","itemService","items","wrap","_callee$","_context","prev","next","api","baseUrl","concat","getList","sent","listItemsAction","abrupt","stop","_x","apply","arguments","select","item","_ref2","_callee2","_callee2$","_context2","selectItemAction","Promise","resolve","_x2","load","id","_ref3","_callee3","_callee3$","_context3","get","loadItemAction","_x3","save","_ref4","_callee4","newItem","_callee4$","_context4","saveItemAction","_x4","remove","_ref5","_callee5","_callee5$","_context5","delete","deleteItemAction","_x5","LOAD_TODO_ITEMS","SELECT_TODO_ITEM","LOAD_TODO_ITEM","SAVE_TODO_ITEM","DELETE_TODO_ITEM"],"sources":["/Users/evaristlobo/Documents/GitHub/jhipster-sample-application/client/src/actions/itemActions.ts"],"sourcesContent":["import { QueryOptions } from \"@testing-library/react\";\nimport { Dispatch } from \"react\";\nimport { TodoItem } from \"../models\";\nimport { ItemService } from \"../services/itemService\";\nimport config from \"../config\";\nimport { ActionTypes } from \"./common\";\nimport {\n  ActionMethod,\n  createPayloadAction,\n  PayloadAction,\n} from \"./actionCreators\";\n\nexport interface ItemActions {\n  list(listId: string, options?: QueryOptions): Promise<TodoItem[]>;\n  select(item?: TodoItem): Promise<TodoItem>;\n  load(listId: string, id: string): Promise<TodoItem>;\n  save(listId: string, Item: TodoItem): Promise<TodoItem>;\n  remove(listId: string, Item: TodoItem): Promise<void>;\n}\n\nexport const list =\n  (listId: string, options?: QueryOptions): ActionMethod<TodoItem[]> =>\n  async (dispatch: Dispatch<ListItemsAction>) => {\n    const itemService = new ItemService(\n      config.api.baseUrl,\n      `/lists/${listId}/items`,\n    );\n    const items = await itemService.getList(options);\n\n    dispatch(listItemsAction(items));\n\n    return items;\n  };\n\nexport const select =\n  (item?: TodoItem): ActionMethod<TodoItem | undefined> =>\n  async (dispatch: Dispatch<SelectItemAction>) => {\n    dispatch(selectItemAction(item));\n\n    return Promise.resolve(item);\n  };\n\nexport const load =\n  (listId: string, id: string): ActionMethod<TodoItem> =>\n  async (dispatch: Dispatch<LoadItemAction>) => {\n    const itemService = new ItemService(\n      config.api.baseUrl,\n      `/lists/${listId}/items`,\n    );\n    const item = await itemService.get(id);\n\n    dispatch(loadItemAction(item));\n\n    return item;\n  };\n\nexport const save =\n  (listId: string, item: TodoItem): ActionMethod<TodoItem> =>\n  async (dispatch: Dispatch<SaveItemAction>) => {\n    const itemService = new ItemService(\n      config.api.baseUrl,\n      `/lists/${listId}/items`,\n    );\n    const newItem = await itemService.save(item);\n\n    dispatch(saveItemAction(newItem));\n\n    return newItem;\n  };\n\nexport const remove =\n  (listId: string, item: TodoItem): ActionMethod<void> =>\n  async (dispatch: Dispatch<DeleteItemAction>) => {\n    const itemService = new ItemService(\n      config.api.baseUrl,\n      `/lists/${listId}/items`,\n    );\n    if (item.id) {\n      await itemService.delete(item.id);\n      dispatch(deleteItemAction(item.id));\n    }\n  };\n\nexport interface ListItemsAction extends PayloadAction<string, TodoItem[]> {\n  type: ActionTypes.LOAD_TODO_ITEMS;\n}\n\nexport interface SelectItemAction\n  extends PayloadAction<string, TodoItem | undefined> {\n  type: ActionTypes.SELECT_TODO_ITEM;\n}\n\nexport interface LoadItemAction extends PayloadAction<string, TodoItem> {\n  type: ActionTypes.LOAD_TODO_ITEM;\n}\n\nexport interface SaveItemAction extends PayloadAction<string, TodoItem> {\n  type: ActionTypes.SAVE_TODO_ITEM;\n}\n\nexport interface DeleteItemAction extends PayloadAction<string, string> {\n  type: ActionTypes.DELETE_TODO_ITEM;\n}\n\nconst listItemsAction = createPayloadAction<ListItemsAction>(\n  ActionTypes.LOAD_TODO_ITEMS,\n);\nconst selectItemAction = createPayloadAction<SelectItemAction>(\n  ActionTypes.SELECT_TODO_ITEM,\n);\nconst loadItemAction = createPayloadAction<LoadItemAction>(\n  ActionTypes.LOAD_TODO_ITEM,\n);\nconst saveItemAction = createPayloadAction<SaveItemAction>(\n  ActionTypes.SAVE_TODO_ITEM,\n);\nconst deleteItemAction = createPayloadAction<DeleteItemAction>(\n  ActionTypes.DELETE_TODO_ITEM,\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}