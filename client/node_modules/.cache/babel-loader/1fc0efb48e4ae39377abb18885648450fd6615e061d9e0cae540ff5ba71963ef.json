{"ast":null,"code":"import _regeneratorRuntime from\"/Users/evaristlobo/Documents/GitHub/jhipster-sample-application/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/evaristlobo/Documents/GitHub/jhipster-sample-application/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useEffect,useMemo}from\"react\";import Header from\"./header\";import Sidebar from\"./sidebar\";import{Routes,Route,useNavigate}from\"react-router-dom\";import HomePage from\"../pages/homePage\";import{Stack}from\"@fluentui/react\";import{TodoContext}from\"../components/todoContext\";import*as itemActions from\"../actions/itemActions\";import*as listActions from\"../actions/listActions\";import{headerStackStyles,mainStackStyles,rootStackStyles,sidebarStackStyles}from\"../ux/styles\";import TodoItemDetailPane from\"../components/todoItemDetailPane\";import{bindActionCreators}from\"../actions/actionCreators\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Layout=function Layout(){var navigate=useNavigate();var appContext=useContext(TodoContext);var actions=useMemo(function(){return{lists:bindActionCreators(listActions,appContext.dispatch),items:bindActionCreators(itemActions,appContext.dispatch)};},[appContext.dispatch]);// Load initial lists\nuseEffect(function(){if(!appContext.state.lists){actions.lists.list();}},[actions.lists,appContext.state.lists]);var onListCreated=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(list){var newList;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return actions.lists.save(list);case 2:newList=_context.sent;navigate(\"/lists/\".concat(newList.id));case 4:case\"end\":return _context.stop();}},_callee);}));return function onListCreated(_x){return _ref.apply(this,arguments);};}();var onItemEdited=function onItemEdited(item){actions.items.save(item.listId,item);actions.items.select(undefined);navigate(\"/lists/\".concat(item.listId));};var onItemEditCancel=function onItemEditCancel(){if(appContext.state.selectedList){actions.items.select(undefined);navigate(\"/lists/\".concat(appContext.state.selectedList.id));}};return/*#__PURE__*/_jsxs(Stack,{styles:rootStackStyles,children:[/*#__PURE__*/_jsx(Stack.Item,{styles:headerStackStyles,children:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsxs(Stack,{horizontal:true,grow:1,children:[/*#__PURE__*/_jsx(Stack.Item,{styles:sidebarStackStyles,children:/*#__PURE__*/_jsx(Sidebar,{selectedList:appContext.state.selectedList,lists:appContext.state.lists,onListCreate:onListCreated})}),/*#__PURE__*/_jsx(Stack.Item,{grow:1,styles:mainStackStyles,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/lists/:listId/items/:itemId\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/lists/:listId\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/lists\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})})]})}),/*#__PURE__*/_jsx(Stack.Item,{styles:sidebarStackStyles,children:/*#__PURE__*/_jsx(TodoItemDetailPane,{item:appContext.state.selectedItem,onEdit:onItemEdited,onCancel:onItemEditCancel})})]})]});};export default Layout;","map":{"version":3,"names":["React","useContext","useEffect","useMemo","Header","Sidebar","Routes","Route","useNavigate","HomePage","Stack","TodoContext","itemActions","listActions","headerStackStyles","mainStackStyles","rootStackStyles","sidebarStackStyles","TodoItemDetailPane","bindActionCreators","jsx","_jsx","jsxs","_jsxs","Layout","navigate","appContext","actions","lists","dispatch","items","state","list","onListCreated","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newList","wrap","_callee$","_context","prev","next","save","sent","concat","id","stop","_x","apply","arguments","onItemEdited","item","listId","select","undefined","onItemEditCancel","selectedList","styles","children","Item","horizontal","grow","onListCreate","path","element","selectedItem","onEdit","onCancel"],"sources":["/Users/evaristlobo/Documents/GitHub/jhipster-sample-application/client/src/layout/layout.tsx"],"sourcesContent":["import React, { FC, ReactElement, useContext, useEffect, useMemo } from \"react\";\nimport Header from \"./header\";\nimport Sidebar from \"./sidebar\";\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport HomePage from \"../pages/homePage\";\nimport { Stack } from \"@fluentui/react\";\nimport { AppContext } from \"../models/applicationState\";\nimport { TodoContext } from \"../components/todoContext\";\nimport * as itemActions from \"../actions/itemActions\";\nimport * as listActions from \"../actions/listActions\";\nimport { ListActions } from \"../actions/listActions\";\nimport { ItemActions } from \"../actions/itemActions\";\nimport { TodoItem, TodoList } from \"../models\";\nimport {\n  headerStackStyles,\n  mainStackStyles,\n  rootStackStyles,\n  sidebarStackStyles,\n} from \"../ux/styles\";\nimport TodoItemDetailPane from \"../components/todoItemDetailPane\";\nimport { bindActionCreators } from \"../actions/actionCreators\";\n\nconst Layout: FC = (): ReactElement => {\n  const navigate = useNavigate();\n  const appContext = useContext<AppContext>(TodoContext);\n  const actions = useMemo(\n    () => ({\n      lists: bindActionCreators(\n        listActions,\n        appContext.dispatch,\n      ) as unknown as ListActions,\n      items: bindActionCreators(\n        itemActions,\n        appContext.dispatch,\n      ) as unknown as ItemActions,\n    }),\n    [appContext.dispatch],\n  );\n\n  // Load initial lists\n  useEffect(() => {\n    if (!appContext.state.lists) {\n      actions.lists.list();\n    }\n  }, [actions.lists, appContext.state.lists]);\n\n  const onListCreated = async (list: TodoList) => {\n    const newList = await actions.lists.save(list);\n    navigate(`/lists/${newList.id}`);\n  };\n\n  const onItemEdited = (item: TodoItem) => {\n    actions.items.save(item.listId, item);\n    actions.items.select(undefined);\n    navigate(`/lists/${item.listId}`);\n  };\n\n  const onItemEditCancel = () => {\n    if (appContext.state.selectedList) {\n      actions.items.select(undefined);\n      navigate(`/lists/${appContext.state.selectedList.id}`);\n    }\n  };\n\n  return (\n    <Stack styles={rootStackStyles}>\n      <Stack.Item styles={headerStackStyles}>\n        <Header></Header>\n      </Stack.Item>\n      <Stack horizontal grow={1}>\n        <Stack.Item styles={sidebarStackStyles}>\n          <Sidebar\n            selectedList={appContext.state.selectedList}\n            lists={appContext.state.lists}\n            onListCreate={onListCreated}\n          />\n        </Stack.Item>\n        <Stack.Item grow={1} styles={mainStackStyles}>\n          <Routes>\n            <Route path=\"/lists/:listId/items/:itemId\" element={<HomePage />} />\n            <Route path=\"/lists/:listId\" element={<HomePage />} />\n            <Route path=\"/lists\" element={<HomePage />} />\n            <Route path=\"/\" element={<HomePage />} />\n          </Routes>\n        </Stack.Item>\n        <Stack.Item styles={sidebarStackStyles}>\n          <TodoItemDetailPane\n            item={appContext.state.selectedItem}\n            onEdit={onItemEdited}\n            onCancel={onItemEditCancel}\n          />\n        </Stack.Item>\n      </Stack>\n    </Stack>\n  );\n};\n\nexport default Layout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}